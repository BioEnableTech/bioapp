appControllers.controller("87771b8d-36c8-4712-80c8-5ecd4d7ef3d9",["$scope","$state","$cordovaOauth","$http","localStorage",function(n,t,i,r,u){n.initialForm=function(){n.isLogin=!1;n.isLoading=!1;n.userInfo={name:"",id:"",email:"",link:"",access_token:""};n.appAPIKey="";n.userInfo=n.getUserProfile()};n.navigateTo=function(n){t.go(n)};n.goToUserProfile=function(){n.isLoading==!1&&(n.isLoading=!0,n.navigateTo("app.dropboxProfile"),n.isLoading=!1)};n.getUserProfile=function(){return n.userInfo=u.get("Dropbox"),n.userInfo!=null&&(n.isLogin=!0),n.userInfo};n.login=function(t){n.isLoading==!1&&(n.isLoading=!0,i.dropbox(t).then(function(t){n.accessToken=t.access_token;r.get("https://api.dropbox.com/1/account/info?access_token="+t.access_token,{params:{}}).then(function(t){n.userInfo={name:t.data.display_name,id:t.data.uid,email:t.data.email,link:t.data.referral_link,access_token:n.accessToken};u.set("Dropbox",n.userInfo);n.navigateTo("app.dropboxProfile")})},function(n){console.log(n)}),n.isLoading=!1)};n.initialForm()}]);appControllers.controller("f8357d03-ad91-44cc-aa9c-350a8da5c41c",["$mdDialog","$scope","$state","$stateParams","$cordovaOauth","$ionicHistory","$http","localStorage","$timeout",function(n,t,i,r,u,f,e,o,s){t.initialForm=function(){t.userInfo=o.get("Dropbox");t.loading=!0;s(function(){t.isAndroid?jQuery("#dropbox-profile-loading-progress").show():jQuery("#dropbox-profile-loading-progress").fadeIn(700)},400);s(function(){jQuery("#dropbox-profile-loading-progress").hide();jQuery("#dropbox-profile-content").fadeIn()},2e3)};t.navigateTo=function(n){i.go(n)};t.logOut=function(r){n.show({controller:"DialogController",templateUrl:"confirm-dialog.html",targetEvent:r,locals:{displayOption:{title:"Confirm to Logout",content:"Do you want to logout Dropbox?",ok:"Confirm",cancel:"Close"}}}).then(function(){o.set("Dropbox",null);i.go("app.dropboxLogin");t.userinfoData=o.get("Dropbox");t.userinfoData==null&&i.go("app.dropboxLogin")},function(){})};t.initialForm()}]);appControllers.controller("d88aff6e-19fe-44f7-9af4-79e7c7396cc4",["$scope","$state","$ionicHistory","$stateParams","$mdDialog","$cordovaOauth","$http","$filter","localStorage",function(n,t,i,r,u,f,e,o,s){n.initialForm=function(){n.feedList=[];n.shouldLoadData=!0;n.userInfo=s.get("Dropbox")};n.popUpFileName=function(n,t){var i=u.alert().parent(angular.element(document.body)).title(n.path+" ("+n.size+")").content("Last Modified : "+o("date")(new Date(n.modified),"MMM dd yyyy")).ariaLabel("Alert Dialog filename").ok("OK").targetEvent(t);u.show(i)};n.getFeedData=function(t){n.isLoading=!0;e.get("https://api.dropbox.com/1/metadata/auto",{params:{access_token:n.userInfo.access_token}}).then(function(i){n.feedList=i.data.contents;t==!0?n.$broadcast("scroll.infiniteScrollComplete"):n.$broadcast("scroll.refreshComplete");n.shouldLoadData=!1},function(t){(t.status=401)&&n.logout()})};n.getIcon=function(n){var t=n.substr(0,6);return t=="folder"?"fa fa-folder-o":"fa fa-file-o"};n.logout=function(){s.set("Dropbox",null);i.nextViewOptions({disableBack:!0});n.userinfoData=s.get("Dropbox");n.userinfoData==null&&t.go("app.dropboxLogin")};n.doRefresh=function(){n.shouldLoadData=!0;n.getFeedData(!1)};n.initialForm()}]);
//# sourceMappingURL=controllers.min.js.map
