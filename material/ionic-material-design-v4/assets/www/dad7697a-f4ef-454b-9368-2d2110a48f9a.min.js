appControllers.controller("fe5ec56e-757d-4251-8fa8-2e003bf997ab",["$scope","$filter","$state","$cordovaOauth","$http","localStorage",function(n,t,i,r,u,f){n.initialForm=function(){n.isLogin=!1;n.isLoading=!1;n.userInfo={name:"",gender:"",email:"",pictureProfileUrl:"",id:"",homeCity:"",access_token:""};n.appAPIKey="";n.userInfo=n.getUserProfile();n.today=t("date")(new Date,"yyyyMMdd")};n.navigateTo=function(n){i.go(n)};n.goToUserProfile=function(){n.isLoading==!1&&(n.isLoading=!0,n.navigateTo("app.foursquareProfile"),n.isLoading=!1)};n.getUserProfile=function(){return n.userInfo=f.get("Foursquare"),n.userInfo!=null&&(n.isLogin=!0),n.userInfo};n.login=function(t){n.isLoading==!1&&(n.isLoading=!0,r.foursquare(t).then(function(t){n.accessToken=t.access_token;u.get("https://api.foursquare.com/v2/users/self",{params:{oauth_token:t.access_token,v:n.today}}).then(function(t){n.userInfo={name:t.data.response.user.firstName+" "+t.data.response.user.lastName,gender:t.data.response.user.gender,email:t.data.response.user.contact.email,pictureProfileUrl:t.data.response.user.photo.prefix+"256x256"+t.data.response.user.photo.suffix,id:t.data.response.user.id,homeCity:t.data.response.user.homeCity,access_token:n.accessToken};f.set("Foursquare",n.userInfo);n.navigateTo("app.foursquareProfile")})},function(n){console.log(n)}),n.isLoading=!1)};n.initialForm()}]);appControllers.controller("f94e243c-08b4-4e7f-9a44-1872ff317b54",["$scope","$timeout","$mdDialog","$state","$ionicHistory","$stateParams","$cordovaOauth","$http","localStorage",function(n,t,i,r,u,f,e,o,s){n.initialForm=function(){n.userInfo=s.get("Foursquare");n.loading=!0;t(function(){n.loading=!1},2e3)};n.navigateTo=function(n){r.go(n)};n.logOut=function(t){i.show({controller:"DialogController",templateUrl:"confirm-dialog.html",targetEvent:t,locals:{displayOption:{title:"Confirm to Logout",content:"Do you want to logout Foursquare?",ok:"Confirm",cancel:"Close"}}}).then(function(){s.set("Foursquare",null);n.userinfoData=s.get("Foursquare");n.userinfoData==null&&r.go("app.foursquareLogin")},function(){})};n.initialForm()}]);appControllers.controller("df134744-b9eb-480c-8207-5d6cfcf2ec55",["$scope","$filter","$state","$ionicHistory","$stateParams","$cordovaOauth","$http","localStorage",function(n,t,i,r,u,f,e,o){n.initialForm=function(){n.feedList=[];n.today=t("date")(new Date,"yyyyMMdd");n.shouldLoadData=!0;n.userInfo=o.get("Foursquare")};n.getFeedData=function(t){e.get("https://api.foursquare.com/v2/users/self/tips?sort=recent",{params:{oauth_token:n.userInfo.access_token,v:n.today}}).then(function(i){n.feedList=i.data.response.tips.items;t==!0?n.$broadcast("scroll.infiniteScrollComplete"):n.$broadcast("scroll.refreshComplete");n.shouldLoadData=!1},function(t){(t.data.meta.code=401)&&n.logout()})};n.logout=function(){o.set("Foursquare",null);r.nextViewOptions({disableBack:!0});n.userinfoData=o.get("Foursquare");n.userinfoData==null&&i.go("app.foursquareLogin")};n.doRefresh=function(){n.shouldLoadData=!0;n.getFeedData(!1)};n.initialForm()}]);
//# sourceMappingURL=controllers.min.js.map
